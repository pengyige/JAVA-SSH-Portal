<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<!-- START SNIPPET: xworkSample -->
<struts>
	
	<package name="portal" extends="struts-default,json-default" namespace="/">
		<!-- 定义用户登入拦截器 -->
		<!-- <interceptors> 
		<interceptor name="FilterInterceptor" class="cn.pengyi.web.interceptor.UserLoginInterceptor"></interceptor> 
		</interceptors> -->
		<!-- action已由spring管理 -->
		<!-- 用户模块 -->
		<action name="user_*" class="userAction" method="{1}">				
			<!-- 对UserAction使用定义的拦截器 -->
			<interceptor-ref name="defaultStack"></interceptor-ref>
			<result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
				<param name="excludeProperties">user.userOrders</param>
			</result>
		
			<result name="error">
					error.jsp
			</result>
			
			<result name="admin">
					supermanage.jsp
			</result>
			
			<result name="superad_login">
				superad_login.jsp
			</result>
		</action>
		
		<!-- 用户订单模块  -->
		<action name="userorder_*" class="userOrderAction" method="{1}">
			<interceptor-ref name="defaultStack"></interceptor-ref>
			<result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
			</result>
		</action>
		
		<!-- 传送点模块 -->
		<action name="teleporter_*" class="teleporterAction" method="{1}">
			 <interceptor-ref name="defaultStack"></interceptor-ref>
			 <result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
			</result>
		</action>
		
		<!-- 传送点管理员模块 -->
		<action name="teleporterAdmin_*" class="teleporterAdminAction" method="{1}">
			 <interceptor-ref name="defaultStack"></interceptor-ref>
			 <result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
			</result>
			
			<result name="manage" type="redirect">
				manage.jsp
			</result>
			
			<result name="ad_login" type="dispatcher">
				ad_login.jsp
			</result>
		</action>
		
		<!-- 骑手模块 -->
		<action name="rider_*" class="riderAction" method="{1}">
			<interceptor-ref name="defaultStack"></interceptor-ref>
			<result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
			</result>
		</action>
		
		<!-- 骑手订单模块  -->
		<action name="riderorder_*" class="riderOrderAction" method="{1}">
			<interceptor-ref name="defaultStack"></interceptor-ref>
			<result name="jsonData" type="json">
				<param name="root">
					jsonData
				</param>
			</result>
		</action>
		
		<!-- 超级管理员模块 -->
		<action name="superadmin_*" class="superAdminAction" method="{1}">
			<interceptor-ref name="defaultStack"></interceptor-ref>
			
			<result name=loginSuccess>
					supermanage.jsp
			</result>
			
			<result name="toLoginPage">
				superad_login.jsp
			</result>
			
			<result name="loginError">
				superad_login.jsp
			</result>
		</action>
		
	</package>

</struts>